<Window x:Class="TransparentVideoWindow.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        Title="Transparent Video Window"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        MouseDown="Window_MouseDown"
        MouseMove="Window_MouseMove"
        MouseUp="Window_MouseUp"
        Width="800" Height="600">
    <Grid>
        <!-- 右键菜单 -->
        <Grid.ContextMenu>
            <ContextMenu Name="Menu">
                <MenuItem Header="切换摄像头 Change Camera" Name="CameraListMenu"/>
                <MenuItem Header="退出 Exit" Click="ExitMenuItem_Click" />
                <MenuItem Header="帧率 Frame Rate" Name="FrameListMenu"/>
                <StackPanel Margin="2">
                    <TextBlock Text="放缩 Resize" Margin="0,0,0,5"/>
                    <Slider Name="slider" 
                            IsSnapToTickEnabled="True" 
                            TickFrequency="0.05" 
                            Minimum="0.1" 
                            Maximum="3" 
                            Value="1" 
                            ValueChanged="ResizeForm" />
                </StackPanel>
                <TextBlock Text="Author: Bilibili A_回首空城" />
            </ContextMenu>
        </Grid.ContextMenu>

        <!-- 视频显示区域 -->
        <Image Name="VideoImage" Stretch="Fill" />
      
        <tb:TaskbarIcon x:Name="MyNotifyIcon"
                        Visibility="Visible"
                        ContextMenu="{Binding ElementName=Menu}"
                        PopupActivation="LeftOrRightClick" 
                        />
    </Grid>
</Window>
